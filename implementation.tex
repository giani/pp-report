In previous section we discussed our approach for implement watchpoint and using thread generation number and watchpoint generation number for verifying rcu policies. In this section we will describe our implementation details and the changes we did in rcu interface and kernel wrapper to achieve our aim. 

One of the important challenge while implementing our system was most of the rcu interfaces is defined as macro and inline which gets embedded into binary module. Granary being a DBI tool doesnâ€™t know when one of these rcu interface function gets called. To handle this case we annotated RCU functions that gives a callbacks to kernel wrapper on the uses of rcu interface. These kernel wrappers are updates the meta-information and check the violation of RCU rules. Our system enforces following policy to check the rcu usage : 

\begin {itemize}
	\item 123	
	\item 235
	\item abc
\end{itemize}

